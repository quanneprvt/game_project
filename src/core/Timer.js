class Timer
{
	constructor()
	{
		this.timer		= 0;
		this.duration	= 0;
		this.overhead	= 0;
		this.isDone		= true;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	SetDuration(duration)
	{
		this.timer		= this.duration = duration;
		this.overhead	= 0;
		this.isDone		= false;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	AddTime(duration)
	{
		this.timer		+= duration;
		this.overhead	= 0;
		this.isDone		= false;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	GetDuration()
	{
		return this.duration;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	GetTime()
	{
		return this.timer;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	GetTimePercent()
	{
		return this.timer / this.duration;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	Reset()
	{
		this.timer		= this.duration;
		this.overhead	= 0;
		this.isDone		= false;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	IsDone()
	{
		return this.timer == 0;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	JustFinished()
	{
		if (this.timer > 0)
		{
			return false;
		}
		if (this.isDone)
		{
			return false;
		}

		this.isDone = true;
		return true;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	GetOverhead()
	{
		return this.overhead;
	}

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	Update(deltaTime)
	{
		if (this.timer == 0)
		{
			return;
		}

		this.timer -= deltaTime;
		if (this.timer < 0)
		{
			this.overhead	= -this.timer;
			this.timer		= 0;
		}
	}
}
global.Timer = new Timer();